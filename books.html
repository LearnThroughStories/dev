<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Hepta+Slab:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./assets/css/bookblock.css" />
    <link rel="stylesheet" href="assets/css/main.css">
    <style>
        @media only screen and (max-width: 720px) {
            #middle {
                font-size: 10px;
            }
        }
    </style>
</head>

<body>

    <div id="books-container">
        <nav id="navbar">
            <div id="logo">
                <img src="assets/img/lets-logo-120.png">
            </div>
            <ul id="links" class="nav">
                <li class="nav-item"><a href="process.html">OUR PROCESS</li>
                <li class="nav-item"><a href="gallery.html">GALLERY</li>
                <li class="nav-item active-page"><a href="books.html">BOOKS</li>
                <li class="nav-item"><a href="#" class="coming-soon">ABOUT US<span class="coming-soon-text">Coming Soon!</span></a></li>
            </ul>
        </nav>
        <div id="books-top">
            <img src="assets/img/books-top.jpg">
        </div>
        <div id="book-open"> </div>
        <div id="shelf">
            <div class="book-on-shelf" onclick="openBook('CleverKalyani');">
                <img src='assets/img/books/CleverKalyani/00-small.jpg'>
            </div>

            <div class="book-on-shelf" onclick="openBook('BlueMagicBox');">
                <img src='assets/img/books/BlueMagicBox/00-small.jpg'>
            </div>

            <div class="book-on-shelf" onclick="openBook('BoyandCalf');">
                <img src='assets/img/books/BoyandCalf/00-small.jpg'>
            </div>

            <div class="book-on-shelf" onclick="openBook('CrazyMonkey');">
                <img src='assets/img/books/CrazyMonkey/00-small.jpg'>
            </div>

            <div class="book-on-shelf" onclick="openBook('Eraseshwara');">
                <img src='assets/img/books/Eraseshwara/00-small.jpg'>
            </div>

            <div class="book-on-shelf" onclick="openBook('FlyingChair');">
                <img src='assets/img/books/FlyingChair/00-small.jpg'>
            </div>

            <div class="book-on-shelf" onclick="openBook('Khichdi');">
                <img src='assets/img/books/Khichdi/00-small.jpg'>
            </div>

            <div class="book-on-shelf" onclick="openBook('MayaAndAaharika');">
                <img src='assets/img/books/MayaAndAaharika/00-small.jpg'>
            </div>

            <div class="book-on-shelf" onclick="openBook('MonsterRhymed');">
                <img src='assets/img/books/MonsterRhymed/00-small.jpg'>
            </div>

            <div class="book-on-shelf" onclick="openBook('Monster_Graded');">
                <img src='assets/img/books/Monster_Graded/00-small.jpg'>
            </div>

            <div class="book-on-shelf" onclick="openBook('RescueFromTheClaw');">
                <img src='assets/img/books/RescueFromTheClaw/00-small.jpg'>
            </div>

            <div class="book-on-shelf" onclick="openBook('Rokuuroo');">
                <img src='assets/img/books/Rokuuroo/00-small.jpg'>
            </div>

            <div class="book-on-shelf" onclick="openBook('TheCircus');">
                <img src='assets/img/books/TheCircus/00-small.jpg'>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="assets/js/jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="assets/js/modernizr.custom.js"></script>
    <script type="text/javascript" src="assets/js/jquerypp.custom.js"></script>
    <script type="text/javascript" src="assets/js/jquery.bookblock.js"></script>
    <script type="text/javascript" src="assets/js/lets.js"></script>
    <script>
        function getViewportWidth() {
            return Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
        }
        function getViewportHeight() {
            return Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);

        }
        var template = `
        <div id='bb-bookblock' class='bb-bookblock'>
            <div id="book-close" onclick="closeBook()"> &times;</div>
            <div class="bb-item"> <img src="assets/img/books/BOOKNAME/00.png" /></div>
            <div class="bb-item"> <img src="assets/img/books/BOOKNAME/01.jpg" /></div>
            <div class="bb-item"> <img src="assets/img/books/BOOKNAME/02.jpg" /></div>
            <div class="bb-item"> <img src="assets/img/books/BOOKNAME/03.jpg" /></div>
            <div class="bb-item"> <img src="assets/img/books/BOOKNAME/04.jpg" /></div>
        </div>
        `

        function openBook(bookname) {
            const book_open = $("#book-open");
            book_open.css("display", "block");
            const html = template.replaceAll("BOOKNAME", bookname);
            book_open.append(html);
            const bb_bookblock = book_open.find("#bb-bookblock");
            if (getViewportWidth() < getViewportHeight()) {
                bb_bookblock.addClass("bb-vw");
            } else {
                bb_bookblock.addClass("bb-vh");
            }
            const page = Page();
            page.init(bookname);
            book_open.find("#book-close").click(() => { closeBook(page) });
        }

        function closeBook(page) {
            page.close();
            const book_open = $("#book-open");
            book_open.css("display", "none");
            $("#book-open").empty();
        }

    </script>
</body>