<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LeTS: Learn Through Stories</title>
  <link href="./assets/css/bookblock.css" rel="stylesheet">
  <link href="assets/css/jquery.yu2fvl.css" rel="stylesheet">
  <link rel="stylesheet" href="./assets/css/base.css" />
  <link rel="stylesheet" href="./assets/css/index.css" />
  <link rel="stylesheet" href="./assets/css/books-base.css" />
</head>

<body>
  <div id="top-section" class="section">
    <img class="bg-img" src="./assets/img/bg-1200-1.jpg" />
    <nav id="navbar">
      <div id="logo">
        <a href="index.html"><img src="assets/img/lets-logo-120.png"></a>
      </div>
      <ul id="links" class="nav">
        <li class="nav-item"><a href="process.html">OUR PROCESS</a></li>
        <li class="nav-item"><a href="gallery.html">GALLERY</a></li>
        <li class="nav-item"><a href="books.html">BOOKS</a></li>
        <li class="nav-item"><a href="#" class="coming-soon">ABOUT US<span class="coming-soon-text">Coming
              Soon!</span></a></li>
      </ul>
    </nav>


    <div id="intro-text-wrapper" class="text-wrapper">
      <div class="text-center">
        <div>
          <div class="body-text">
            <p>LeTS (Learn Through Stories) Foundation is a not-for-profit educational venture.</p>
            <p>
              It is a collaboration between design professionals and young students from far-flung parts of India. </p>
            <p>Together, we create books.
            </p>
          </div>
        </div>
      </div>
    </div>
    <div id="logo-text-wrapper" class="text-wrapper">
      <div class="text-center">
        <!-- <div> -->
        <div class="body-text">
          <p>
            Students bring stories. We teach them storyboarding, illustration and book design in multi-day workshops.
          </p>
          <p>The very act of producing a book changes learners and their relationship with learning.</p>
        </div>
      </div>
    </div>
    <div id="author-text-wrapper" class="text-wrapper">
      <h2 id="our-authors"> Our Authors</h2>
    </div>
  </div>
  <div id="bottom-section" class="section">
    <img class="bg-img" loading="lazy" src="./assets/img/bg-1200-2.jpg" onload="loadLazy();"/>
    <div id="books-text-wrapper" class="text-wrapper">
      <div class=text-center>
        <div>
          <h2 id="our-books">Our Books</h2>
          <div class="body-text">
            <p>
              Kids love these gorgeously produced books, with their names on the book jacket and crowding the credits
              pages.
            </p>
            <p> Eyes and minds thus sensitized to quality production of their own work, it is not just words but worlds
              they create anew.</p>
          </div>
        </div>
      </div>
    </div>
    <div id="book-sample" class="text-wrapper" onclick="openBook('CleverKalyani');">Please click here for a sample
      audiobook.
    </div>

    <div id="book-open"></div> <!-- div for modal -->
    <div id="films-text-wrapper" class="text-wrapper">
      <div class="text-center">
        <div>
          <h2 id="our-films"> Our Films</h2>
          <div class="body-text">
            Some of our books are brought to new life as animated films with
            voice-overs and subtitles, to offer another kind of immersive
            learning experience.
          </div>
        </div>
      </div>
    </div>

    <p><a class="play-1 open-video" href="#" data-href="https://www.youtube.com/embed/GJSGdhXDzOQ"></a></p>

    <div id="apps-text-wrapper" class="text-wrapper">
      <div class="text-center">
        <div>
          <h2 id="our-apps"> Our Apps</h2>
          <div class="body-text">
            <p>Our mobile app reads aloud any page from a physical LeTS book. We like tactile!</p>
          </div>
        </div>
      </div>
    </div>
    <div id="other-sub-text-wrapper" class="text-wrapper">
      <div class="text-center">
        <div class="body-text">
          This approach is not for language alone.
          <!-- We are working on other subjects, including science, geography etc.-->
          We have begun work on science and geography, with plans for more!
        </div>
      </div>
    </div>
    <div id="footer">
      <div id="logotext"> <img src="assets/img/ftr-logo.png"> </div>
      <div id="social">
        <a href="mailto:contactletsfoundation@gmail.com?body=Tell us about yourself and share your thoughts">
          <img src="assets/img/ftr-email.png" alt="email">
        </a>
        <a href="#"> <img src="assets/img/ftr-fb.png" alt="facebook"> </a>
        <a href="#"> <img src="assets/img/ftr-instagram.png" alt="instagram"></a>
        <a href="#"> <img src="assets/img/ftr-linkedin.png" alt="linkedin"></a>
      </div>
    </div>
    <div style="height: 1rem; background-color: grey; width: 100%;">

    </div>
  </div>

  <script>
    function addMoreIndicatorIfOverflow(event) {
      let t = event.target;
      if (t.clientHeight > 0 && (t.scrollHeight - t.scrollTop > t.clientHeight)) {
        console.log({ obj: t, ch: t.clientHeight, sh: t.scrollHeight, st: t.scrollTop });
        t.classList.add("more-text-indicator");
      } else {
        t.classList.remove("more-text-indicator");
      }
    }

    function loadScriptAsync(src) {
      return new Promise(function (resolve, reject) {
        const scr = document.createElement('script');
        var resolved = false;
        scr.type = 'text/javascript';
        scr.async = true;
        scr.onerror =  (err) => reject("script " + src + " not loaded: Error: " + err, scr);
        scr.onload = scr.onreadystatechange =  () => {
          if (!resolved && (!this.readyState || this.readyState == 'complete')) {
            resolved = true;
            resolve();
            //console.log("loaded :", src);
          }
        };
        scr.src = src;
        document.body.append(scr);
      });
    }
    async function loadScriptsAsync() {
      var scripts = [
        "assets/js/jquery-3.5.1.min.js",
        "assets/js/modernizr.custom.js",
        "assets/js/jquerypp.custom.js",
        "assets/js/jquery.bookblock.js",
        "assets/js/lets.js",
        "assets/js/jquery.yu2fvl.js"];
      for (const scr of scripts) {
        await loadScriptAsync(scr);
      }
    }

    function loadLazy() {
      loadScriptsAsync().then(() => {
        $(".play-1").each((i, el) => {
          const jel = $(el);
          jel.attr("href", jel.attr("data-href"));
        });
        $(".play-1").yu2fvl({ minPaddingX: 100, minPaddingY: 100, closeText: "&times;" });

        $(".text-center").each(function (i, tw) {
          tw.addEventListener("scroll", addMoreIndicatorIfOverflow, { passive: true });
          window.addEventListener("resize", () => {
            addMoreIndicatorIfOverflow({ target: tw });
          });
        });
      });
    }
  </script>

</body>

</html>
